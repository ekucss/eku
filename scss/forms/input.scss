@use "sass:selector";

$input-focus-shadow: 0 0.3rem 0.8rem rgba($dark, 0.1) !default;
$input-focus-border-color: $mono !default;

@mixin make-input($theme) {
    border-color: rgba($theme, 0.8);
    box-shadow: 0 0 0 0.2rem rgba($theme, 0.2);

    &:focus,
    &:active {
        border-color: rgba($theme, 0.5);
        box-shadow: 0 0 0 0.15rem rgba($theme, 0.1);
    }
}

.input {
    @extend %control;

    transition: border ease 0.3s, box-shadow ease 0.3s;

    @at-root #{selector.unify("textarea", &)} {
        min-height: $height * 3;
        padding: $padding;
    }

    &:focus,
    &:active {
        box-shadow: $input-focus-shadow;
        border-color: $input-focus-border-color;
        z-index: 2;
    }

    &::placeholder {
        color: $gray;
    }

    &.is-error {
        @include make-input($red);
    }

    &.is-success {
        @include make-input($green);
    }
}
